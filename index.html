<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿ƒè¯­ - ä½ çš„å¿ƒç†å¥åº·ä¼™ä¼´</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind é…ç½® -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        coral: '#FF6B81',
                        'coral-light': '#FF8A9B',
                        'coral-dark': '#E55A6F',
                        blush: '#FFF0F3',
                        'blush-deep': '#FFE4E9',
                        purple: '#6C5CE7',
                        'purple-light': '#A29BFE',
                        mint: '#00D9A5',
                        'mint-light': '#E8FBF5',
                    },
                    fontFamily: {
                        sans: ['Nunito Sans', 'system-ui', 'sans-serif'],
                    },
                    borderRadius: {
                        '2xl': '1rem',
                        '3xl': '1.5rem',
                    },
                    boxShadow: {
                        'soft': '0 4px 20px rgba(255, 107, 129, 0.15)',
                        'card': '0 8px 30px rgba(0, 0, 0, 0.08)',
                        'float': '0 10px 40px rgba(255, 107, 129, 0.2)',
                    }
                }
            }
        }
    </script>

    <style>
        /* å…¨å±€æ ·å¼ */
        body {
            font-family: 'Nunito Sans', sans-serif;
            background-color: #FFF0F3;
            -webkit-font-smoothing: antialiased;
        }

        /* æ¸å˜èƒŒæ™¯ */
        .gradient-coral {
            background: linear-gradient(135deg, #FF6B81 0%, #FF8A9B 100%);
        }

        .gradient-purple {
            background: linear-gradient(135deg, #6C5CE7 0%, #A29BFE 100%);
        }

        /* å¡ç‰‡æ‚¬æµ®æ•ˆæœ */
        .card-hover {
            transition: all 0.25s ease-out;
            cursor: pointer;
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(255, 107, 129, 0.2);
        }

        /* å°Šé‡ç”¨æˆ·åŠ¨ç”»åå¥½ */
        @media (prefers-reduced-motion: reduce) {
            .card-hover {
                transition: none;
            }
            .card-hover:hover {
                transform: none;
            }
        }

        /* ç€‘å¸ƒæµå¸ƒå±€ */
        .masonry {
            column-count: 2;
            column-gap: 12px;
        }
        .masonry-item {
            break-inside: avoid;
            margin-bottom: 12px;
        }

        /* åº•éƒ¨å¯¼èˆªå®‰å…¨åŒº */
        .bottom-safe {
            padding-bottom: calc(60px + env(safe-area-inset-bottom));
        }

        /* éšè—æ»šåŠ¨æ¡ */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* ç„¦ç‚¹çŠ¶æ€ - é”®ç›˜å¯¼èˆªå¯è®¿é—®æ€§ */
        .focus-ring:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 107, 129, 0.4);
        }
        .focus-ring:focus-visible {
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 107, 129, 0.4);
        }

        /* æŒ‰é’®è¿‡æ¸¡ */
        button, a {
            transition: all 0.2s ease-out;
        }
    </style>
</head>
<body class="bottom-safe">

    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav id="navbar" class="fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-lg border-b border-blush-deep">
        <div class="flex items-center justify-between px-4 py-3">
            <!-- Logo -->
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded-full gradient-coral flex items-center justify-center">
                    <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                    </svg>
                </div>
                <span class="text-lg font-bold text-coral">å¿ƒè¯­</span>
            </div>

            <!-- æœç´¢æ  -->
            <div class="flex-1 mx-4 max-w-xs">
                <div class="relative">
                    <input type="text" placeholder="æœç´¢å¿ƒç†è¯é¢˜..." aria-label="æœç´¢å¿ƒç†è¯é¢˜"
                        class="w-full py-2 px-4 pl-10 bg-blush rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-coral/30">
                    <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-coral-light" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                </div>
            </div>

            <!-- ç”¨æˆ·å¤´åƒ -->
            <div class="w-9 h-9 rounded-full bg-gradient-to-br from-purple to-purple-light flex items-center justify-center">
                <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                </svg>
            </div>
        </div>
    </nav>

    <!-- Bannerä¸»è§†è§‰åŒº -->
    <section id="banner" class="pt-16 px-4">
        <div class="mt-4 rounded-3xl gradient-coral p-6 text-white relative overflow-hidden">
            <!-- è£…é¥°åœ†ç‚¹ -->
            <div class="absolute top-4 right-4 w-20 h-20 bg-white/10 rounded-full"></div>
            <div class="absolute bottom-0 right-12 w-32 h-32 bg-white/5 rounded-full translate-y-1/2"></div>

            <!-- å†…å®¹ -->
            <div class="relative z-10">
                <h1 class="text-2xl font-bold mb-2">æ¯ä¸€æ¬¡å€¾è¯‰</h1>
                <h2 class="text-2xl font-bold mb-3">éƒ½æ˜¯æ²»æ„ˆçš„å¼€å§‹</h2>
                <p class="text-white/80 text-sm mb-4">ä¸“ä¸šå¿ƒç†å’¨è¯¢ | AIé™ªä¼´ | æ¸©æš–ç¤¾åŒº</p>

                <!-- ç»Ÿè®¡æ•°æ® -->
                <div class="flex gap-6 mb-4">
                    <div>
                        <div class="text-xl font-bold">10ä¸‡+</div>
                        <div class="text-xs text-white/70">ç”¨æˆ·ä¿¡èµ–</div>
                    </div>
                    <div>
                        <div class="text-xl font-bold">500+</div>
                        <div class="text-xs text-white/70">ä¸“ä¸šå’¨è¯¢å¸ˆ</div>
                    </div>
                    <div>
                        <div class="text-xl font-bold">24h</div>
                        <div class="text-xs text-white/70">åœ¨çº¿æœåŠ¡</div>
                    </div>
                </div>

                <!-- CTAæŒ‰é’® -->
                <button class="bg-white text-coral font-semibold py-2.5 px-6 rounded-full shadow-soft card-hover focus-ring" aria-label="å¼€å§‹æ¢ç´¢å¿ƒè¯­">
                    å¼€å§‹æ¢ç´¢
                </button>
            </div>
        </div>
    </section>

    <!-- åŠŸèƒ½å…¥å£å¡ç‰‡åŒº -->
    <section id="features" class="px-4 py-6">
        <div class="grid grid-cols-4 gap-3">
            <!-- AIå€¾è¯‰ -->
            <a href="ai-chat.html" class="flex flex-col items-center focus-ring rounded-2xl" aria-label="AIå€¾è¯‰">
                <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-purple to-purple-light flex items-center justify-center shadow-soft card-hover">
                    <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                    </svg>
                </div>
                <span class="mt-2 text-xs text-gray-600">AIå€¾è¯‰</span>
            </a>

            <!-- æ‰¾å’¨è¯¢å¸ˆ -->
            <a href="counselor-detail.html" class="flex flex-col items-center focus-ring rounded-2xl" aria-label="æ‰¾å’¨è¯¢å¸ˆ">
                <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-coral to-coral-light flex items-center justify-center shadow-soft card-hover">
                    <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                    </svg>
                </div>
                <span class="mt-2 text-xs text-gray-600">æ‰¾å’¨è¯¢å¸ˆ</span>
            </a>

            <!-- å¿ƒç†æµ‹è¯„ -->
            <a href="assessment.html" class="flex flex-col items-center focus-ring rounded-2xl" aria-label="å¿ƒç†æµ‹è¯„">
                <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-mint to-emerald-400 flex items-center justify-center shadow-soft card-hover">
                    <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
                    </svg>
                </div>
                <span class="mt-2 text-xs text-gray-600">å¿ƒç†æµ‹è¯„</span>
            </a>

            <!-- å†¥æƒ³æ”¾æ¾ -->
            <a href="meditation.html" class="flex flex-col items-center focus-ring rounded-2xl" aria-label="å†¥æƒ³æ”¾æ¾">
                <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-amber-400 to-orange-400 flex items-center justify-center shadow-soft card-hover">
                    <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
                    </svg>
                </div>
                <span class="mt-2 text-xs text-gray-600">å†¥æƒ³æ”¾æ¾</span>
            </a>
        </div>
    </section>

    <!-- å†…å®¹ç€‘å¸ƒæµåŒº -->
    <section id="feed" class="px-4 py-4">
        <!-- æ ‡ç­¾æ  -->
        <div class="flex gap-2 mb-4 overflow-x-auto hide-scrollbar pb-2">
            <button class="px-4 py-1.5 rounded-full bg-coral text-white text-sm font-medium whitespace-nowrap">æ¨è</button>
            <button class="px-4 py-1.5 rounded-full bg-white text-gray-600 text-sm whitespace-nowrap card-hover">ç„¦è™‘</button>
            <button class="px-4 py-1.5 rounded-full bg-white text-gray-600 text-sm whitespace-nowrap card-hover">æƒ…ç»ª</button>
            <button class="px-4 py-1.5 rounded-full bg-white text-gray-600 text-sm whitespace-nowrap card-hover">äº²å¯†å…³ç³»</button>
            <button class="px-4 py-1.5 rounded-full bg-white text-gray-600 text-sm whitespace-nowrap card-hover">èŒåœº</button>
            <button class="px-4 py-1.5 rounded-full bg-white text-gray-600 text-sm whitespace-nowrap card-hover">æˆé•¿</button>
        </div>

        <!-- ç€‘å¸ƒæµå†…å®¹ -->
        <div class="masonry">
            <!-- å¡ç‰‡1 - é•¿å›¾ -->
            <div class="masonry-item">
                <div class="bg-white rounded-2xl overflow-hidden shadow-card card-hover cursor-pointer">
                    <div class="h-48 bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center">
                        <span class="text-4xl">ğŸŒ¸</span>
                    </div>
                    <div class="p-3">
                        <h3 class="font-semibold text-gray-800 text-sm mb-1 line-clamp-2">å­¦ä¼šå’Œç„¦è™‘å…±å¤„ï¼š5ä¸ªå®ç”¨çš„è‡ªæˆ‘å®‰æŠšæŠ€å·§</h3>
                        <div class="flex items-center justify-between mt-2">
                            <div class="flex items-center gap-1.5">
                                <div class="w-5 h-5 rounded-full bg-coral"></div>
                                <span class="text-xs text-gray-500">å¿ƒç†å°åŠ©æ‰‹</span>
                            </div>
                            <div class="flex items-center gap-1 text-gray-400">
                                <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                </svg>
                                <span class="text-xs">2.3k</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å¡ç‰‡2 - çŸ­å›¾ -->
            <div class="masonry-item">
                <div class="bg-white rounded-2xl overflow-hidden shadow-card card-hover cursor-pointer">
                    <div class="h-32 bg-gradient-to-br from-mint-light to-emerald-100 flex items-center justify-center">
                        <span class="text-4xl">ğŸ§˜</span>
                    </div>
                    <div class="p-3">
                        <h3 class="font-semibold text-gray-800 text-sm mb-1 line-clamp-2">5åˆ†é’Ÿæ­£å¿µå†¥æƒ³</h3>
                        <div class="flex items-center justify-between mt-2">
                            <div class="flex items-center gap-1.5">
                                <div class="w-5 h-5 rounded-full bg-mint"></div>
                                <span class="text-xs text-gray-500">å†¥æƒ³æŒ‡å—</span>
                            </div>
                            <div class="flex items-center gap-1 text-gray-400">
                                <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                </svg>
                                <span class="text-xs">1.8k</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å¡ç‰‡3 -->
            <div class="masonry-item">
                <div class="bg-white rounded-2xl overflow-hidden shadow-card card-hover cursor-pointer">
                    <div class="h-40 bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center">
                        <span class="text-4xl">ğŸ’ª</span>
                    </div>
                    <div class="p-3">
                        <h3 class="font-semibold text-gray-800 text-sm mb-1 line-clamp-2">èŒåœºç„¦è™‘ï¼Ÿè¿™æ ·è°ƒæ•´å¿ƒæ€æ›´ä»å®¹</h3>
                        <div class="flex items-center justify-between mt-2">
                            <div class="flex items-center gap-1.5">
                                <div class="w-5 h-5 rounded-full bg-amber-400"></div>
                                <span class="text-xs text-gray-500">èŒåœºå¿ƒç†</span>
                            </div>
                            <div class="flex items-center gap-1 text-gray-400">
                                <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                </svg>
                                <span class="text-xs">956</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å¡ç‰‡4 -->
            <div class="masonry-item">
                <div class="bg-white rounded-2xl overflow-hidden shadow-card card-hover cursor-pointer">
                    <div class="h-36 bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center">
                        <span class="text-4xl">ğŸ’•</span>
                    </div>
                    <div class="p-3">
                        <h3 class="font-semibold text-gray-800 text-sm mb-1 line-clamp-2">äº²å¯†å…³ç³»ä¸­å¦‚ä½•è¡¨è¾¾éœ€æ±‚</h3>
                        <div class="flex items-center justify-between mt-2">
                            <div class="flex items-center gap-1.5">
                                <div class="w-5 h-5 rounded-full bg-indigo-400"></div>
                                <span class="text-xs text-gray-500">å…³ç³»ç–—æ„ˆ</span>
                            </div>
                            <div class="flex items-center gap-1 text-gray-400">
                                <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                </svg>
                                <span class="text-xs">3.1k</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å¡ç‰‡5 -->
            <div class="masonry-item">
                <div class="bg-white rounded-2xl overflow-hidden shadow-card card-hover cursor-pointer">
                    <div class="h-44 bg-gradient-to-br from-rose-50 to-pink-100 flex items-center justify-center">
                        <span class="text-4xl">ğŸŒˆ</span>
                    </div>
                    <div class="p-3">
                        <h3 class="font-semibold text-gray-800 text-sm mb-1 line-clamp-2">ä»Šå¤©ä¹Ÿè¦å¥½å¥½çˆ±è‡ªå·±ï¼šç»™å†…å¿ƒçš„ä¸€å°ä¿¡</h3>
                        <div class="flex items-center justify-between mt-2">
                            <div class="flex items-center gap-1.5">
                                <div class="w-5 h-5 rounded-full bg-rose-400"></div>
                                <span class="text-xs text-gray-500">è‡ªæˆ‘å…³æ€€</span>
                            </div>
                            <div class="flex items-center gap-1 text-gray-400">
                                <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                </svg>
                                <span class="text-xs">4.2k</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å¡ç‰‡6 -->
            <div class="masonry-item">
                <div class="bg-white rounded-2xl overflow-hidden shadow-card card-hover cursor-pointer">
                    <div class="h-32 bg-gradient-to-br from-violet-50 to-purple-100 flex items-center justify-center">
                        <span class="text-4xl">ğŸ˜´</span>
                    </div>
                    <div class="p-3">
                        <h3 class="font-semibold text-gray-800 text-sm mb-1 line-clamp-2">æ”¹å–„ç¡çœ çš„7ä¸ªå°ä¹ æƒ¯</h3>
                        <div class="flex items-center justify-between mt-2">
                            <div class="flex items-center gap-1.5">
                                <div class="w-5 h-5 rounded-full bg-violet-400"></div>
                                <span class="text-xs text-gray-500">ç¡çœ å¥åº·</span>
                            </div>
                            <div class="flex items-center gap-1 text-gray-400">
                                <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                </svg>
                                <span class="text-xs">1.5k</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- å’¨è¯¢å¸ˆæ¨èåŒº -->
    <section id="counselors" class="px-4 py-6">
        <!-- æ ‡é¢˜ -->
        <div class="flex items-center justify-between mb-4">
            <h2 class="text-lg font-bold text-gray-800">æ¨èå’¨è¯¢å¸ˆ</h2>
            <a href="#" class="text-sm text-coral">æŸ¥çœ‹æ›´å¤š</a>
        </div>

        <!-- å’¨è¯¢å¸ˆåˆ—è¡¨ - æ¨ªå‘æ»šåŠ¨ -->
        <div class="flex gap-3 overflow-x-auto hide-scrollbar pb-2">
            <!-- å’¨è¯¢å¸ˆ1 -->
            <div class="flex-shrink-0 w-36 bg-white rounded-2xl p-4 shadow-card card-hover cursor-pointer">
                <div class="w-16 h-16 mx-auto rounded-full bg-gradient-to-br from-coral to-coral-light flex items-center justify-center mb-3">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
                <h3 class="text-center font-semibold text-gray-800 text-sm">æå¿ƒæ€¡</h3>
                <p class="text-center text-xs text-gray-500 mt-1">æƒ…ç»ªç®¡ç†ä¸“å®¶</p>
                <div class="flex items-center justify-center gap-1 mt-2">
                    <svg class="w-3.5 h-3.5 text-amber-400" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                    </svg>
                    <span class="text-xs text-gray-600">4.9</span>
                    <span class="text-xs text-gray-400">| 328æ¬¡</span>
                </div>
                <div class="mt-3 text-center">
                    <span class="text-coral font-semibold text-sm">Â¥199</span>
                    <span class="text-xs text-gray-400">/æ¬¡</span>
                </div>
            </div>

            <!-- å’¨è¯¢å¸ˆ2 -->
            <div class="flex-shrink-0 w-36 bg-white rounded-2xl p-4 shadow-card card-hover cursor-pointer">
                <div class="w-16 h-16 mx-auto rounded-full bg-gradient-to-br from-purple to-purple-light flex items-center justify-center mb-3">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
                <h3 class="text-center font-semibold text-gray-800 text-sm">ç‹æ€è¿œ</h3>
                <p class="text-center text-xs text-gray-500 mt-1">ç„¦è™‘ç—‡ä¸“å®¶</p>
                <div class="flex items-center justify-center gap-1 mt-2">
                    <svg class="w-3.5 h-3.5 text-amber-400" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                    </svg>
                    <span class="text-xs text-gray-600">4.8</span>
                    <span class="text-xs text-gray-400">| 512æ¬¡</span>
                </div>
                <div class="mt-3 text-center">
                    <span class="text-coral font-semibold text-sm">Â¥299</span>
                    <span class="text-xs text-gray-400">/æ¬¡</span>
                </div>
            </div>

            <!-- å’¨è¯¢å¸ˆ3 -->
            <div class="flex-shrink-0 w-36 bg-white rounded-2xl p-4 shadow-card card-hover cursor-pointer">
                <div class="w-16 h-16 mx-auto rounded-full bg-gradient-to-br from-mint to-emerald-400 flex items-center justify-center mb-3">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
                <h3 class="text-center font-semibold text-gray-800 text-sm">é™ˆæ™“é›¨</h3>
                <p class="text-center text-xs text-gray-500 mt-1">äº²å¯†å…³ç³»</p>
                <div class="flex items-center justify-center gap-1 mt-2">
                    <svg class="w-3.5 h-3.5 text-amber-400" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                    </svg>
                    <span class="text-xs text-gray-600">5.0</span>
                    <span class="text-xs text-gray-400">| 203æ¬¡</span>
                </div>
                <div class="mt-3 text-center">
                    <span class="text-coral font-semibold text-sm">Â¥249</span>
                    <span class="text-xs text-gray-400">/æ¬¡</span>
                </div>
            </div>

            <!-- å’¨è¯¢å¸ˆ4 -->
            <div class="flex-shrink-0 w-36 bg-white rounded-2xl p-4 shadow-card card-hover cursor-pointer">
                <div class="w-16 h-16 mx-auto rounded-full bg-gradient-to-br from-amber-400 to-orange-400 flex items-center justify-center mb-3">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
                <h3 class="text-center font-semibold text-gray-800 text-sm">å¼ æ˜è¾‰</h3>
                <p class="text-center text-xs text-gray-500 mt-1">èŒåœºå¿ƒç†</p>
                <div class="flex items-center justify-center gap-1 mt-2">
                    <svg class="w-3.5 h-3.5 text-amber-400" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                    </svg>
                    <span class="text-xs text-gray-600">4.7</span>
                    <span class="text-xs text-gray-400">| 456æ¬¡</span>
                </div>
                <div class="mt-3 text-center">
                    <span class="text-coral font-semibold text-sm">Â¥179</span>
                    <span class="text-xs text-gray-400">/æ¬¡</span>
                </div>
            </div>
        </div>
    </section>

    <!-- AIèŠå¤©é¢„è§ˆåŒº -->
    <section id="ai-chat" class="px-4 py-6">
        <div class="bg-white rounded-3xl p-5 shadow-card">
            <!-- æ ‡é¢˜ -->
            <div class="flex items-center gap-3 mb-4">
                <div class="w-12 h-12 rounded-full gradient-purple flex items-center justify-center">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                    </svg>
                </div>
                <div>
                    <h2 class="font-bold text-gray-800">å¿ƒè¯­AIåŠ©æ‰‹</h2>
                    <p class="text-xs text-gray-500">24å°æ—¶åœ¨çº¿ | æ¸©æš–å€¾å¬</p>
                </div>
            </div>

            <!-- å¯¹è¯é¢„è§ˆ -->
            <div class="space-y-3 mb-4">
                <!-- AIæ¶ˆæ¯ -->
                <div class="flex gap-2">
                    <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0">
                        <svg class="w-4 h-4 text-purple" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                    </div>
                    <div class="bg-blush rounded-2xl rounded-tl-sm px-4 py-3 max-w-[80%]">
                        <p class="text-sm text-gray-700">ä½ å¥½å‘€ï¼Œæˆ‘æ˜¯å¿ƒè¯­AIåŠ©æ‰‹ã€‚ä»Šå¤©æœ‰ä»€ä¹ˆæƒ³èŠçš„å—ï¼Ÿæ— è®ºæ˜¯å·¥ä½œå‹åŠ›ã€æƒ…ç»ªå›°æ‰°ï¼Œè¿˜æ˜¯åªæ˜¯æƒ³æ‰¾äººè¯´è¯´è¯ï¼Œæˆ‘éƒ½åœ¨è¿™é‡Œé™ªä¼´ä½ ã€‚</p>
                    </div>
                </div>

                <!-- ç”¨æˆ·æ¶ˆæ¯ -->
                <div class="flex gap-2 justify-end">
                    <div class="bg-coral text-white rounded-2xl rounded-tr-sm px-4 py-3 max-w-[80%]">
                        <p class="text-sm">æœ€è¿‘æ€»æ˜¯ç¡ä¸å¥½ï¼Œæ„Ÿè§‰å¾ˆç„¦è™‘...</p>
                    </div>
                </div>

                <!-- AIå›å¤ -->
                <div class="flex gap-2">
                    <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0">
                        <svg class="w-4 h-4 text-purple" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                    </div>
                    <div class="bg-blush rounded-2xl rounded-tl-sm px-4 py-3 max-w-[80%]">
                        <p class="text-sm text-gray-700">å¬èµ·æ¥ä½ æœ€è¿‘æ‰¿å—äº†ä¸å°‘å‹åŠ›ã€‚ç¡çœ é—®é¢˜ç¡®å®ä¼šå½±å“æˆ‘ä»¬çš„æƒ…ç»ªçŠ¶æ€ã€‚èƒ½å‘Šè¯‰æˆ‘æ›´å¤šå…³äºè¿™ç§ç„¦è™‘çš„æ„Ÿå—å—ï¼Ÿ</p>
                    </div>
                </div>
            </div>

            <!-- è¾“å…¥æ¡† -->
            <div class="flex gap-2">
                <div class="flex-1 relative">
                    <input type="text" placeholder="è¯´è¯´ä½ çš„å¿ƒäº‹..." aria-label="è¾“å…¥ä½ çš„å¿ƒäº‹"
                        class="w-full py-3 px-4 bg-blush rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-purple/30">
                </div>
                <button class="w-11 h-11 rounded-full gradient-coral flex items-center justify-center shadow-soft card-hover focus-ring" aria-label="å‘é€æ¶ˆæ¯">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                    </svg>
                </button>
            </div>
        </div>
    </section>

    <!-- åº•éƒ¨å¯¼èˆªæ  -->
    <nav id="bottom-nav" class="fixed bottom-0 left-0 right-0 bg-white border-t border-blush-deep z-50" role="navigation" aria-label="ä¸»å¯¼èˆª">
        <div class="flex items-center justify-around py-2 pb-[env(safe-area-inset-bottom)]">
            <!-- é¦–é¡µ -->
            <a href="#" class="flex flex-col items-center py-1 px-3 focus-ring rounded-lg" aria-label="é¦–é¡µ" aria-current="page">
                <svg class="w-6 h-6 text-coral" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                </svg>
                <span class="text-xs text-coral font-medium mt-1">é¦–é¡µ</span>
            </a>

            <!-- å‘ç° -->
            <a href="discover.html" class="flex flex-col items-center py-1 px-3 focus-ring rounded-lg" aria-label="å‘ç°">
                <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                </svg>
                <span class="text-xs text-gray-400 mt-1">å‘ç°</span>
            </a>

            <!-- å‘å¸ƒ (ä¸­å¿ƒæŒ‰é’®) -->
            <a href="#" class="flex flex-col items-center -mt-5 focus-ring rounded-full" aria-label="å‘å¸ƒå†…å®¹">
                <div class="w-14 h-14 rounded-full gradient-coral flex items-center justify-center shadow-float card-hover">
                    <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 4v16m8-8H4"/>
                    </svg>
                </div>
            </a>

            <!-- æ¶ˆæ¯ -->
            <a href="messages.html" class="flex flex-col items-center py-1 px-3 relative focus-ring rounded-lg" aria-label="æ¶ˆæ¯ï¼Œ3æ¡æœªè¯»">
                <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                </svg>
                <span class="text-xs text-gray-400 mt-1">æ¶ˆæ¯</span>
                <!-- æœªè¯»æ•° -->
                <div class="absolute -top-0.5 right-1 w-4 h-4 bg-coral rounded-full flex items-center justify-center">
                    <span class="text-[10px] text-white font-medium">3</span>
                </div>
            </a>

            <!-- æˆ‘çš„ -->
            <a href="profile.html" class="flex flex-col items-center py-1 px-3 focus-ring rounded-lg" aria-label="æˆ‘çš„">
                <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
                <span class="text-xs text-gray-400 mt-1">æˆ‘çš„</span>
            </a>
        </div>
    </nav>

    <!-- ç™»å½•/æ³¨å†Œå¼¹çª— -->
    <div id="auth-modal" class="fixed inset-0 bg-black/50 z-[100] hidden items-center justify-center">
        <div class="bg-white rounded-3xl p-6 mx-4 w-full max-w-sm">
            <div class="flex justify-between items-center mb-6">
                <h3 id="auth-title" class="text-xl font-bold text-gray-800">ç™»å½•</h3>
                <button onclick="closeAuthModal()" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>

            <form id="auth-form" onsubmit="handleAuth(event)">
                <div class="space-y-4">
                    <div id="nickname-field" class="hidden">
                        <input type="text" id="nickname" placeholder="æ˜µç§°"
                            class="w-full py-3 px-4 bg-blush rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-coral/30">
                    </div>
                    <div>
                        <input type="email" id="email" placeholder="é‚®ç®±" required
                            class="w-full py-3 px-4 bg-blush rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-coral/30">
                    </div>
                    <div>
                        <input type="password" id="password" placeholder="å¯†ç " required
                            class="w-full py-3 px-4 bg-blush rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-coral/30">
                    </div>
                </div>

                <button type="submit" class="w-full mt-6 py-3 rounded-full gradient-coral text-white font-semibold shadow-soft">
                    <span id="auth-btn-text">ç™»å½•</span>
                </button>

                <p class="text-center text-sm text-gray-500 mt-4">
                    <span id="auth-switch-text">è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ</span>
                    <button type="button" onclick="toggleAuthMode()" class="text-coral font-medium" id="auth-switch-btn">ç«‹å³æ³¨å†Œ</button>
                </p>
            </form>
        </div>
    </div>

    <!-- å‘å¸ƒå¸–å­å¼¹çª— -->
    <div id="post-modal" class="fixed inset-0 bg-black/50 z-[100] hidden items-center justify-center">
        <div class="bg-white rounded-3xl p-6 mx-4 w-full max-w-md max-h-[80vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-gray-800">å‘å¸ƒåŠ¨æ€</h3>
                <button onclick="closePostModal()" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>

            <form id="post-form" onsubmit="handleCreatePost(event)">
                <div class="space-y-4">
                    <div>
                        <input type="text" id="post-title" placeholder="æ ‡é¢˜" required
                            class="w-full py-3 px-4 bg-blush rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-coral/30">
                    </div>
                    <div>
                        <textarea id="post-content" placeholder="åˆ†äº«ä½ çš„å¿ƒæƒ…..." required rows="5"
                            class="w-full py-3 px-4 bg-blush rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-coral/30 resize-none"></textarea>
                    </div>
                    <div>
                        <select id="post-category" class="w-full py-3 px-4 bg-blush rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-coral/30">
                            <option value="share">å¿ƒæƒ…åˆ†äº«</option>
                            <option value="question">æ±‚åŠ©æé—®</option>
                            <option value="experience">ç»éªŒåˆ†äº«</option>
                            <option value="other">å…¶ä»–</option>
                        </select>
                    </div>
                </div>

                <button type="submit" class="w-full mt-6 py-3 rounded-full gradient-coral text-white font-semibold shadow-soft">
                    å‘å¸ƒ
                </button>
            </form>
        </div>
    </div>

    <!-- Toast æç¤º -->
    <div id="toast" class="fixed top-20 left-1/2 -translate-x-1/2 bg-gray-800 text-white px-6 py-3 rounded-full text-sm hidden z-[200]"></div>

    <script>
        // API é…ç½®
        const API_BASE = 'http://localhost:8000/api/v1';

        // çŠ¶æ€ç®¡ç†
        let currentUser = null;
        let authToken = localStorage.getItem('token');
        let isLoginMode = true;

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            checkAuth();
            loadPosts();
            loadCounselors();
            setupEventListeners();
        });

        // è®¾ç½®äº‹ä»¶ç›‘å¬
        function setupEventListeners() {
            // ç”¨æˆ·å¤´åƒç‚¹å‡» - ç™»å½•/ä¸ªäººä¸­å¿ƒ
            document.querySelector('nav .w-9').addEventListener('click', () => {
                if (currentUser) {
                    showToast(`å½“å‰ç”¨æˆ·: ${currentUser.nickname}`);
                } else {
                    openAuthModal();
                }
            });

            // å‘å¸ƒæŒ‰é’®
            document.querySelector('#bottom-nav a:nth-child(3)').addEventListener('click', (e) => {
                e.preventDefault();
                if (!currentUser) {
                    showToast('è¯·å…ˆç™»å½•');
                    openAuthModal();
                    return;
                }
                openPostModal();
            });
        }

        // ========== è®¤è¯ç›¸å…³ ==========

        async function checkAuth() {
            if (!authToken) return;

            try {
                const res = await fetch(`${API_BASE}/auth/me`, {
                    headers: { 'Authorization': `Bearer ${authToken}` }
                });
                if (res.ok) {
                    currentUser = await res.json();
                    updateUserUI();
                } else {
                    localStorage.removeItem('token');
                    authToken = null;
                }
            } catch (e) {
                console.error('Auth check failed:', e);
            }
        }

        function updateUserUI() {
            const avatar = document.querySelector('nav .w-9');
            if (currentUser) {
                avatar.innerHTML = `<span class="text-white font-bold">${currentUser.nickname.charAt(0)}</span>`;
            }
        }

        function openAuthModal() {
            document.getElementById('auth-modal').classList.remove('hidden');
            document.getElementById('auth-modal').classList.add('flex');
        }

        function closeAuthModal() {
            document.getElementById('auth-modal').classList.add('hidden');
            document.getElementById('auth-modal').classList.remove('flex');
        }

        function toggleAuthMode() {
            isLoginMode = !isLoginMode;
            document.getElementById('auth-title').textContent = isLoginMode ? 'ç™»å½•' : 'æ³¨å†Œ';
            document.getElementById('auth-btn-text').textContent = isLoginMode ? 'ç™»å½•' : 'æ³¨å†Œ';
            document.getElementById('auth-switch-text').textContent = isLoginMode ? 'è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ' : 'å·²æœ‰è´¦å·ï¼Ÿ';
            document.getElementById('auth-switch-btn').textContent = isLoginMode ? 'ç«‹å³æ³¨å†Œ' : 'ç«‹å³ç™»å½•';
            document.getElementById('nickname-field').classList.toggle('hidden', isLoginMode);
        }

        async function handleAuth(e) {
            e.preventDefault();

            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const nickname = document.getElementById('nickname').value;

            const endpoint = isLoginMode ? '/auth/login/email' : '/auth/register/email';
            const body = isLoginMode
                ? { email, password }
                : { email, password, nickname: nickname || undefined };

            try {
                const res = await fetch(`${API_BASE}${endpoint}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(body)
                });

                const data = await res.json();

                if (res.ok) {
                    authToken = data.access_token;
                    localStorage.setItem('token', authToken);
                    currentUser = data.user;
                    updateUserUI();
                    closeAuthModal();
                    showToast(isLoginMode ? 'ç™»å½•æˆåŠŸ' : 'æ³¨å†ŒæˆåŠŸ');
                    loadPosts();
                } else {
                    showToast(data.detail || 'æ“ä½œå¤±è´¥');
                }
            } catch (e) {
                showToast('ç½‘ç»œé”™è¯¯');
                console.error(e);
            }
        }

        // ========== å¸–å­ç›¸å…³ ==========

        async function loadPosts() {
            try {
                const res = await fetch(`${API_BASE}/posts`, {
                    headers: authToken ? { 'Authorization': `Bearer ${authToken}` } : {}
                });
                const data = await res.json();

                if (data.items && data.items.length > 0) {
                    renderPosts(data.items);
                }
            } catch (e) {
                console.error('Load posts failed:', e);
            }
        }

        function renderPosts(posts) {
            const container = document.querySelector('.masonry');

            // ä¿ç•™å‰2ä¸ªç¤ºä¾‹å¡ç‰‡ï¼Œæ·»åŠ çœŸå®æ•°æ®
            const existingCards = container.querySelectorAll('.masonry-item');

            posts.forEach((post, index) => {
                const colors = [
                    'from-purple-100 to-pink-100',
                    'from-mint-light to-emerald-100',
                    'from-amber-50 to-orange-100',
                    'from-blue-50 to-indigo-100',
                    'from-rose-50 to-pink-100'
                ];
                const emojis = ['ğŸŒ¸', 'ğŸ§˜', 'ğŸ’ª', 'ğŸ’•', 'ğŸŒˆ', 'ğŸ˜´', 'ğŸŒ»', 'ğŸ¦‹'];
                const heights = ['h-32', 'h-36', 'h-40', 'h-44', 'h-48'];

                const card = document.createElement('div');
                card.className = 'masonry-item';
                card.innerHTML = `
                    <div class="bg-white rounded-2xl overflow-hidden shadow-card card-hover cursor-pointer" onclick="handlePostClick(${post.id})">
                        <div class="${heights[index % heights.length]} bg-gradient-to-br ${colors[index % colors.length]} flex items-center justify-center">
                            <span class="text-4xl">${emojis[index % emojis.length]}</span>
                        </div>
                        <div class="p-3">
                            <h3 class="font-semibold text-gray-800 text-sm mb-1 line-clamp-2">${post.title}</h3>
                            <div class="flex items-center justify-between mt-2">
                                <div class="flex items-center gap-1.5">
                                    <div class="w-5 h-5 rounded-full bg-coral flex items-center justify-center">
                                        <span class="text-white text-xs">${post.author.nickname.charAt(0)}</span>
                                    </div>
                                    <span class="text-xs text-gray-500">${post.author.nickname}</span>
                                </div>
                                <div class="flex items-center gap-1 text-gray-400">
                                    <svg class="w-3.5 h-3.5 ${post.is_liked ? 'text-coral' : ''}" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                    </svg>
                                    <span class="text-xs">${post.like_count}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        async function handlePostClick(postId) {
            if (!currentUser) {
                showToast('ç™»å½•åå¯æŸ¥çœ‹è¯¦æƒ…');
                return;
            }

            // ç‚¹èµåŠŸèƒ½
            try {
                const res = await fetch(`${API_BASE}/posts/${postId}/like`, {
                    method: 'POST',
                    headers: { 'Authorization': `Bearer ${authToken}` }
                });

                if (res.ok) {
                    showToast('ç‚¹èµæˆåŠŸ');
                    loadPosts();
                } else {
                    const data = await res.json();
                    showToast(data.detail || 'æ“ä½œå¤±è´¥');
                }
            } catch (e) {
                console.error(e);
            }
        }

        function openPostModal() {
            document.getElementById('post-modal').classList.remove('hidden');
            document.getElementById('post-modal').classList.add('flex');
        }

        function closePostModal() {
            document.getElementById('post-modal').classList.add('hidden');
            document.getElementById('post-modal').classList.remove('flex');
        }

        async function handleCreatePost(e) {
            e.preventDefault();

            const title = document.getElementById('post-title').value;
            const content = document.getElementById('post-content').value;
            const category = document.getElementById('post-category').value;

            try {
                const res = await fetch(`${API_BASE}/posts`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${authToken}`
                    },
                    body: JSON.stringify({ title, content, category })
                });

                if (res.ok) {
                    closePostModal();
                    showToast('å‘å¸ƒæˆåŠŸ');
                    document.getElementById('post-form').reset();
                    loadPosts();
                } else {
                    const data = await res.json();
                    showToast(data.detail || 'å‘å¸ƒå¤±è´¥');
                }
            } catch (e) {
                showToast('ç½‘ç»œé”™è¯¯');
                console.error(e);
            }
        }

        // ========== å’¨è¯¢å¸ˆç›¸å…³ ==========

        async function loadCounselors() {
            try {
                const res = await fetch(`${API_BASE}/counselors`);
                const data = await res.json();

                if (data.items && data.items.length > 0) {
                    renderCounselors(data.items);
                }
            } catch (e) {
                console.error('Load counselors failed:', e);
            }
        }

        function renderCounselors(counselors) {
            const container = document.querySelector('#counselors .flex.gap-3');

            counselors.forEach(counselor => {
                const colors = [
                    'from-coral to-coral-light',
                    'from-purple to-purple-light',
                    'from-mint to-emerald-400',
                    'from-amber-400 to-orange-400'
                ];

                const card = document.createElement('div');
                card.className = 'flex-shrink-0 w-36 bg-white rounded-2xl p-4 shadow-card card-hover cursor-pointer';
                card.innerHTML = `
                    <div class="w-16 h-16 mx-auto rounded-full bg-gradient-to-br ${colors[Math.floor(Math.random() * colors.length)]} flex items-center justify-center mb-3">
                        <span class="text-white text-xl font-bold">${counselor.user.nickname.charAt(0)}</span>
                    </div>
                    <h3 class="text-center font-semibold text-gray-800 text-sm">${counselor.user.nickname}</h3>
                    <p class="text-center text-xs text-gray-500 mt-1">${counselor.title || 'å¿ƒç†å’¨è¯¢å¸ˆ'}</p>
                    <div class="flex items-center justify-center gap-1 mt-2">
                        <svg class="w-3.5 h-3.5 text-amber-400" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                        </svg>
                        <span class="text-xs text-gray-600">${counselor.rating.toFixed(1)}</span>
                        <span class="text-xs text-gray-400">| ${counselor.consult_count}æ¬¡</span>
                    </div>
                    <div class="mt-3 text-center">
                        <span class="text-coral font-semibold text-sm">Â¥${counselor.price}</span>
                        <span class="text-xs text-gray-400">/æ¬¡</span>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // ========== å·¥å…·å‡½æ•° ==========

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.remove('hidden');
            setTimeout(() => {
                toast.classList.add('hidden');
            }, 2000);
        }
    </script>

</body>
</html>
